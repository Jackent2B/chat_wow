{"version":3,"sources":["components/Navbar.js","components/screens/Home.js","components/screens/Profile.js","components/screens/Login.js","components/screens/Signup.js","components/screens/UserProfile.js","components/screens/CreatePost.js","components/screens/FollowingUsersPost.js","reducers/userReducer.js","App.js","index.js"],"names":["Navbar","useContext","UserContext","state","dispatch","history","useHistory","style","background","className","to","paddingLeft","fontFamily","id","paddingRight","onClick","localStorage","clear","type","push","Home","useState","data","setData","useEffect","fetch","headers","Authorization","getItem","then","res","json","result","console","log","posts","map","item","key","_id","padding","color","postedBy","name","toUpperCase","float","postid","method","newData","filter","src","photo","alt","likes","includes","body","JSON","stringify","postId","catch","err","window","location","reload","length","title","comments","record","fontWeight","text","onSubmit","e","preventDefault","target","value","placeholder","Profile","mypics","setPics","undefined","image","setImage","FormData","append","pic","url","setItem","payload","maxWidth","margin","borderBottom","display","justifyContent","width","height","borderRadius","email","followers","following","onChange","file","files","Login","React","setEmail","password","setPassword","message","M","toast","html","classes","error","token","user","paddingTop","SignIn","setName","setPasword","setUrl","uploadFields","test","PostData","uploadPic","userProfile","setProfile","showfollow","setShowFollow","userid","useParams","followId","prevState","unfollowId","newFollower","textAlign","CreatePost","setTitle","setBody","multiple","secure_url","postImage","FollowingUsersPost","reducer","action","createContext","Routing","parse","exact","path","Signup","UserProfile","App","useReducer","Provider","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.14095e21.chunk.js","sourcesContent":["import React, { useContext } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { UserContext } from '../App';\r\n\r\nconst Navbar = () => {\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const history = useHistory();\r\n  const renderList = () => {\r\n    //if user is signed in then this will return\r\n    if (state) {\r\n      return [\r\n        <li>\r\n          <Link to='/createPost'>\r\n            <i className='material-icons'>add_a_photo</i>\r\n          </Link>\r\n        </li>,\r\n        <li>\r\n          <Link to='/profile'>\r\n            <i className='material-icons'>person</i>\r\n          </Link>\r\n        </li>,\r\n        <li>\r\n          <Link to='/followingPost'>\r\n            <i className='material-icons'>person_add</i>\r\n          </Link>\r\n        </li>,\r\n        <button\r\n          className='waves-effect waves-light btn'\r\n          onClick={() => {\r\n            localStorage.clear();\r\n            dispatch({ type: 'CLEAR' });\r\n            history.push('/signin');\r\n          }}\r\n        >\r\n          Logout\r\n        </button>,\r\n      ];\r\n    } else {\r\n      return [\r\n        <li>\r\n          <Link to='/signin'>LOGIN</Link>\r\n        </li>,\r\n        <li>\r\n          <Link to='/signup'>SIGNUP</Link>\r\n        </li>,\r\n      ];\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <nav style={{ background: '#1f1f2e' }}>\r\n        <div className='nav-wrapper'>\r\n          <Link\r\n            to={state ? '/' : '/signin'}\r\n            className='left brand-logo'\r\n            style={{ paddingLeft: '11px', fontFamily: 'Galada' }}\r\n          >\r\n            Cw!\r\n          </Link>\r\n          <ul id='nav-mobile' className='right' style={{ paddingRight: '8px' }}>\r\n            {renderList()}\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { UserContext } from '../../App';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Home = () => {\r\n  const [data, setData] = useState([]);\r\n  //to know the state of the user\r\n  const { state, dispatch } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    fetch('/allpost', {\r\n      headers: {\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        setData(result.posts);\r\n      });\r\n  }, []);\r\n\r\n  const likePost = (id) => {\r\n    fetch('/like', {\r\n      method: 'put',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        //   console.log(result)\r\n        const newData = data.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    window.location.reload();\r\n  };\r\n\r\n  //unlike post\r\n  const unlikePost = (id) => {\r\n    fetch('/unlike', {\r\n      method: 'put',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        //   console.log(result)\r\n        const newData = data.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    window.location.reload();\r\n  };\r\n\r\n  //comment post\r\n  const makeComment = (text, postId) => {\r\n    fetch('/comment', {\r\n      method: 'put',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n      body: JSON.stringify({\r\n        postId,\r\n        text,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        const newData = data.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  //deleting post\r\n  const deletePost = (postid) => {\r\n    fetch(`/deletepost/${postid}`, {\r\n      method: 'delete',\r\n      headers: {\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        const newData = data.filter((item) => {\r\n          return item._id !== result._id;\r\n        });\r\n        setData(newData);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className='home'>\r\n      {data.map((item) => {\r\n        return (\r\n          <div className='card home-card' key={item._id}>\r\n            <h5 style={{ padding: '15px', fontFamily: 'Permanent Marker' }}>\r\n              <Link\r\n                style={{ color: 'black' }}\r\n                to={\r\n                  item.postedBy._id !== state._id\r\n                    ? '/profile/' + item.postedBy._id\r\n                    : '/profile'\r\n                }\r\n              >\r\n                {item.postedBy.name.toUpperCase()}\r\n              </Link>{' '}\r\n              {item.postedBy._id === state._id && (\r\n                <i\r\n                  className='material-icons'\r\n                  style={{\r\n                    float: 'right',\r\n                  }}\r\n                  onClick={() => deletePost(item._id)}\r\n                >\r\n                  delete\r\n                </i>\r\n              )}\r\n            </h5>\r\n\r\n            <div className='card-image'>\r\n              <img src={item.photo} alt={'image here'} />\r\n            </div>\r\n            <div className='card-content'>\r\n              {item.likes.includes(state._id) ? (\r\n                <i\r\n                  className='material-icons'\r\n                  onClick={() => {\r\n                    unlikePost(item._id);\r\n                  }}\r\n                  style={{ color: 'red' }}\r\n                >\r\n                  favorite\r\n                </i>\r\n              ) : (\r\n                <i\r\n                  className='material-icons'\r\n                  onClick={() => {\r\n                    likePost(item._id);\r\n                  }}\r\n                  style={{ color: '#bfbfbf' }}\r\n                >\r\n                  favorite\r\n                </i>\r\n              )}\r\n              <h6>{item.likes.length} likes</h6>\r\n              <h6>{item.title}</h6>\r\n              <p>{item.body}</p>\r\n\r\n              {item.comments.map((record) => {\r\n                return (\r\n                  <h6 key={record._id}>\r\n                    <span style={{ fontWeight: '500' }}>\r\n                      {record.postedBy.name}\r\n                    </span>{' '}\r\n                    {record.text}\r\n                  </h6>\r\n                );\r\n              })}\r\n\r\n              <form\r\n                onSubmit={(e) => {\r\n                  e.preventDefault();\r\n                  makeComment(e.target[0].value, item._id);\r\n                }}\r\n              >\r\n                <input type='text' placeholder='add a comment' />\r\n              </form>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport { UserContext } from '../../App';\r\n\r\nconst Profile = () => {\r\n  const [mypics, setPics] = useState([]);\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const [image, setImage] = useState(undefined);\r\n  useEffect(() => {\r\n    fetch('/mypost', {\r\n      headers: {\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        setPics(result.posts);\r\n      });\r\n  }, []);\r\n  useEffect(() => {\r\n    if (image) {\r\n      const data = new FormData();\r\n      data.append('file', image);\r\n      data.append('upload_preset', 'chatWow');\r\n      data.append('cloud_name', 'jackent2b');\r\n      fetch('https://api.cloudinary.com/v1_1/jackent2b/image/upload', {\r\n        method: 'post',\r\n        body: data,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          fetch('/updatepic', {\r\n            method: 'put',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n            },\r\n            body: JSON.stringify({\r\n              pic: data.url,\r\n            }),\r\n          })\r\n            .then((res) => res.json())\r\n            .then((result) => {\r\n              console.log(result);\r\n              //updating the url in local storage\r\n              localStorage.setItem(\r\n                'user',\r\n                JSON.stringify({ ...state, pic: result.pic })\r\n              );\r\n              dispatch({ type: 'UPDATEPIC', payload: result.pic });\r\n              //window.location.reload()\r\n            });\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, [image]);\r\n  const updatePhoto = (file) => {\r\n    setImage(file);\r\n  };\r\n  return (\r\n    <div style={{ maxWidth: '550px', margin: '0px auto' }}>\r\n      <div\r\n        style={{\r\n          margin: '18px 0px',\r\n          borderBottom: '1px solid grey',\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            justifyContent: 'space-around',\r\n          }}\r\n        >\r\n          <div>\r\n            <img\r\n              style={{ width: '160px', height: '160px', borderRadius: '80px' }}\r\n              src={state ? state.pic : 'loading'}\r\n            />\r\n          </div>\r\n          <div>\r\n            <h4 style={{ paddingLeft: '10px', fontFamily: 'Permanent Marker' }}>\r\n              {state ? state.name.toUpperCase() : 'loading'}\r\n            </h4>\r\n            <h5 style={{ paddingLeft: '10px' }}>\r\n              {state ? state.email : 'loading'}\r\n            </h5>\r\n            <div\r\n              style={{\r\n                paddingLeft: '10px',\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                width: '108%',\r\n              }}\r\n            >\r\n              <h6>{mypics.length} posts</h6>\r\n              <h6>{state ? state.followers.length : 0} Followers</h6>\r\n              <h6>{state ? state.following.length : 0} Following</h6>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className='file-field input-field' style={{ margin: '10px' }}>\r\n          <div className='waves-effect waves-light btn'>\r\n            <span>Update pic</span>\r\n            <input\r\n              type='file'\r\n              onChange={(e) => updatePhoto(e.target.files[0])}\r\n            />\r\n          </div>\r\n          <div className='file-path-wrapper'>\r\n            <input className='file-path validate' type='text' />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className='gallery'>\r\n        {mypics.map((item) => {\r\n          return (\r\n            <img\r\n              key={item._id}\r\n              className='item'\r\n              src={item.photo}\r\n              alt={item.title}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useContext } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { UserContext } from '../../App';\r\nimport M from 'materialize-css';\r\n\r\nconst Login = () => {\r\n  const { state, dispatch } = useContext(UserContext);\r\n\r\n  const history = useHistory();\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n  const signinData = () => {\r\n    fetch('/signin', {\r\n      method: 'post',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        //toast is used to popup when their is an error.\r\n        if (data.message) {\r\n          M.toast({ html: data.message, classes: '#c62828 red darken-3' });\r\n        } else if (data.error) {\r\n          M.toast({ html: data.error, classes: '#c62828 red darken-3' });\r\n        } else {\r\n          //to store token locally so that we can create post after signin\r\n          localStorage.setItem('jwt', data.token);\r\n          localStorage.setItem('user', JSON.stringify(data.user));\r\n\r\n          dispatch({ type: 'USER', payload: data.user });\r\n\r\n          M.toast({\r\n            html: 'Successfully SignedIn!',\r\n            classes: '#43a047 green darken-1',\r\n          });\r\n          history.push('/');\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className='card auth-card'>\r\n        <h4 style={{ fontFamily: 'Galada' }}>Welcome to ChatWow</h4>\r\n        <h2 style={{ fontFamily: 'Galada' }}>Login</h2>\r\n        <input\r\n          type='text'\r\n          placeholder='Email'\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n        <input\r\n          type='password'\r\n          placeholder='Password'\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n\r\n        <button\r\n          className='waves-effect waves-light btn'\r\n          onClick={() => signinData()}\r\n        >\r\n          Login\r\n        </button>\r\n        <div style={{ paddingTop: '10px', fontFamily: 'Galada' }}>\r\n          Don't have an account? <Link to='/signup'>Sign up</Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Login;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport M from 'materialize-css';\r\nconst SignIn = () => {\r\n  const history = useHistory();\r\n  const [name, setName] = useState('');\r\n  const [password, setPasword] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [image, setImage] = useState('');\r\n  const [url, setUrl] = useState(undefined);\r\n\r\n  useEffect(() => {\r\n    if (url) {\r\n      uploadFields();\r\n    }\r\n  }, [url]);\r\n\r\n  const uploadPic = () => {\r\n    const data = new FormData();\r\n    data.append('file', image);\r\n    data.append('upload_preset', 'new-insta');\r\n    data.append('cloud_name', 'cnq');\r\n    fetch('https://api.cloudinary.com/v1_1/cnq/image/upload', {\r\n      method: 'post',\r\n      body: data,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setUrl(data.url);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const uploadFields = () => {\r\n    if (\r\n      !/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\r\n        email\r\n      )\r\n    ) {\r\n      M.toast({ html: 'invalid email', classes: '#c62828 red darken-3' });\r\n      return;\r\n    }\r\n    fetch('/signup', {\r\n      method: 'post',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        password,\r\n        email,\r\n        pic: url,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.error) {\r\n          M.toast({ html: data.error, classes: '#c62828 red darken-3' });\r\n        } else {\r\n          M.toast({ html: data.message, classes: '#43a047 green darken-1' });\r\n          history.push('/signin');\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  //making it optional for the user to upload profile pic at the time of signup or can be later\r\n  const PostData = () => {\r\n    if (image) {\r\n      uploadPic();\r\n    } else {\r\n      uploadFields();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='mycard'>\r\n      <div className='card auth-card input-field'>\r\n        <h4 style={{ fontFamily: 'Galada' }}>Welcome to ChatWow</h4>\r\n        <h2 style={{ fontFamily: 'Galada' }}>Signup</h2>\r\n        <input\r\n          type='text'\r\n          placeholder='name'\r\n          value={name}\r\n          onChange={(e) => setName(e.target.value)}\r\n        />\r\n        <input\r\n          type='text'\r\n          placeholder='email'\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n        <input\r\n          type='password'\r\n          placeholder='password'\r\n          value={password}\r\n          onChange={(e) => setPasword(e.target.value)}\r\n        />\r\n        <div className='file-field input-field'>\r\n          <div className='waves-effect waves-light btn'>\r\n            <span>Upload pic</span>\r\n            <input type='file' onChange={(e) => setImage(e.target.files[0])} />\r\n          </div>\r\n          <div className='file-path-wrapper'>\r\n            <input className='file-path validate' type='text' />\r\n          </div>\r\n        </div>\r\n        <button\r\n          className='waves-effect waves-light btn'\r\n          onClick={() => PostData()}\r\n        >\r\n          SignUP\r\n        </button>\r\n        <div style={{ paddingTop: '10px', fontFamily: 'Galada' }}>\r\n          Already have an Account? <Link to='/signin'>Login</Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport { UserContext } from '../../App';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nconst Profile = () => {\r\n  const [userProfile, setProfile] = useState(null);\r\n  const [showfollow, setShowFollow] = useState(true);\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const { userid } = useParams();\r\n  useEffect(() => {\r\n    fetch(`/profile/${userid}`, {\r\n      headers: {\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n\r\n        setProfile(result);\r\n      });\r\n  }, []);\r\n\r\n  const followUser = () => {\r\n    fetch('/follow', {\r\n      method: 'put',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n      body: JSON.stringify({\r\n        followId: userid,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        dispatch({\r\n          type: 'UPDATE',\r\n          payload: { following: data.following, followers: data.followers },\r\n        });\r\n        localStorage.setItem('user', JSON.stringify(data));\r\n        setProfile((prevState) => {\r\n          return {\r\n            ...prevState,\r\n            user: {\r\n              ...prevState.user,\r\n              followers: [...prevState.user.followers, data._id],\r\n            },\r\n          };\r\n        });\r\n        setShowFollow(false);\r\n      });\r\n  };\r\n\r\n  const unfollowUser = () => {\r\n    fetch('/unfollow', {\r\n      method: 'put',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n      body: JSON.stringify({\r\n        unfollowId: userid,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        dispatch({\r\n          type: 'UPDATE',\r\n          payload: { following: data.following, followers: data.followers },\r\n        });\r\n        localStorage.setItem('user', JSON.stringify(data));\r\n\r\n        setProfile((prevState) => {\r\n          const newFollower = prevState.user.followers.filter(\r\n            (item) => item !== data._id\r\n          );\r\n          return {\r\n            ...prevState,\r\n            user: {\r\n              ...prevState.user,\r\n              followers: newFollower,\r\n            },\r\n          };\r\n        });\r\n        setShowFollow(true);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {userProfile ? (\r\n        <div style={{ maxWidth: '550px', margin: '0px auto' }}>\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              justifyContent: 'space-around',\r\n              margin: '18px 0px',\r\n              borderBottom: '1px solid grey',\r\n            }}\r\n          >\r\n            <div>\r\n              <img\r\n                style={{\r\n                  width: '150px',\r\n                  height: '150px',\r\n                  borderRadius: '80px',\r\n                }}\r\n                alt={'avatar'}\r\n                src={userProfile.user.pic}\r\n              />\r\n            </div>\r\n            <div>\r\n              <h4\r\n                style={{ paddingLeft: '10px', fontFamily: 'Permanent Marker' }}\r\n              >\r\n                {userProfile.user.name}\r\n              </h4>\r\n              <h5>{userProfile.user.email}</h5>\r\n              <div\r\n                style={{\r\n                  display: 'flex',\r\n                  justifyContent: 'space-between',\r\n                  width: '90%',\r\n                }}\r\n              >\r\n                <h6>{userProfile.posts.length} posts</h6>\r\n                <h6>{userProfile.user.followers.length} followers</h6>\r\n                <h6>{userProfile.user.following.length} following</h6>\r\n              </div>\r\n              {showfollow ? (\r\n                <button\r\n                  style={{\r\n                    margin: '10px',\r\n                  }}\r\n                  className='waves-effect waves-light btn'\r\n                  onClick={() => followUser()}\r\n                >\r\n                  Follow\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  style={{\r\n                    margin: '10px',\r\n                  }}\r\n                  className='waves-effect waves-light btn'\r\n                  onClick={() => unfollowUser()}\r\n                >\r\n                  UnFollow\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className='gallery'>\r\n            {userProfile.posts.map((item) => {\r\n              return (\r\n                <img\r\n                  key={item._id}\r\n                  className='item'\r\n                  src={item.photo}\r\n                  alt={item.title}\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <h2 style={{ textAlign: 'center', fontFamily: 'Galada' }}>\r\n          loading...!\r\n        </h2>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport M from 'materialize-css';\r\n\r\nconst CreatePost = () => {\r\n  const history = useHistory();\r\n  const [title, setTitle] = React.useState('');\r\n  const [body, setBody] = React.useState('');\r\n  const [image, setImage] = React.useState('');\r\n  const [url, setUrl] = React.useState('');\r\n\r\n  useEffect(() => {\r\n    if (url) {\r\n      fetch('/createpost', {\r\n        method: 'post',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n        },\r\n        body: JSON.stringify({\r\n          title,\r\n          body,\r\n          photo: url,\r\n        }),\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          console.log(data);\r\n          if (data.error) {\r\n            M.toast({ html: data.error, classes: '#c62828 red darken-3' });\r\n          } else {\r\n            M.toast({\r\n              html: 'Post Created Successfully!',\r\n              classes: '#43a047 green darken-1',\r\n            });\r\n            history.push('/');\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, [url]);\r\n\r\n  const postImage = () => {\r\n    //uploading an file from computer\r\n    const data = new FormData();\r\n    data.append('file', image);\r\n    data.append('upload_preset', 'chatWow');\r\n    data.append('cloud_name', 'jackent2b');\r\n    fetch('https://api.cloudinary.com/v1_1/jackent2b/image/upload', {\r\n      method: 'post',\r\n      body: data,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => setUrl(data.secure_url))\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className='card auth-card'>\r\n        <h2 style={{ fontFamily: 'Galada' }}>Create Post</h2>\r\n        <input\r\n          type='text'\r\n          placeholder='Title'\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n\r\n        <input\r\n          type='text'\r\n          placeholder='Content'\r\n          value={body}\r\n          onChange={(e) => setBody(e.target.value)}\r\n        />\r\n\r\n        <div className='file-field input-field'>\r\n          <div className='btn'>\r\n            <span>Add Images</span>\r\n            <input\r\n              type='file'\r\n              multiple\r\n              onChange={(e) => setImage(e.target.files[0])}\r\n            />\r\n          </div>\r\n          <div className='file-path-wrapper'>\r\n            <input\r\n              className='file-path validate'\r\n              type='text'\r\n              placeholder='Upload one or more files'\r\n            />\r\n          </div>\r\n        </div>\r\n        <button\r\n          className='waves-effect waves-light btn'\r\n          onClick={() => postImage()}\r\n        >\r\n          Post\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default CreatePost;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { UserContext } from '../../App';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst FollowingUsersPost = () => {\r\n  const [data, setData] = useState([]);\r\n  const { state, dispatch } = useContext(UserContext);\r\n  useEffect(() => {\r\n    fetch('/getsubpost', {\r\n      headers: {\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        setData(result.posts);\r\n      });\r\n  }, []);\r\n\r\n  const likePost = (id) => {\r\n    fetch('/like', {\r\n      method: 'put',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        //   console.log(result)\r\n        const newData = data.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    window.location.reload();\r\n  };\r\n\r\n  //unlike post\r\n  const unlikePost = (id) => {\r\n    fetch('/unlike', {\r\n      method: 'put',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        //   console.log(result)\r\n        const newData = data.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    window.location.reload();\r\n  };\r\n\r\n  //comment post\r\n  const makeComment = (text, postId) => {\r\n    fetch('/comment', {\r\n      method: 'put',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n      body: JSON.stringify({\r\n        postId,\r\n        text,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        const newData = data.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  //deleting post\r\n  const deletePost = (postid) => {\r\n    fetch(`/deletepost/${postid}`, {\r\n      method: 'delete',\r\n      headers: {\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        const newData = data.filter((item) => {\r\n          return item._id !== result._id;\r\n        });\r\n        setData(newData);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className='home'>\r\n      {data.map((item) => {\r\n        return (\r\n          <div className='card home-card' key={item._id}>\r\n            <h5 style={{ padding: '15px', fontFamily: 'Permanent Marker' }}>\r\n              <Link\r\n                style={{ color: 'black' }}\r\n                to={\r\n                  item.postedBy._id !== state._id\r\n                    ? '/profile/' + item.postedBy._id\r\n                    : '/profile'\r\n                }\r\n              >\r\n                {item.postedBy.name.toUpperCase()}\r\n              </Link>{' '}\r\n              {item.postedBy._id === state._id && (\r\n                <i\r\n                  className='material-icons'\r\n                  style={{\r\n                    float: 'right',\r\n                  }}\r\n                  onClick={() => deletePost(item._id)}\r\n                >\r\n                  delete\r\n                </i>\r\n              )}\r\n            </h5>\r\n\r\n            <div className='card-image'>\r\n              <img src={item.photo} alt={'avatar'} />\r\n            </div>\r\n            <div className='card-content'>\r\n              <i className='material-icons' style={{ color: 'red' }}>\r\n                favorite\r\n              </i>\r\n              {item.likes.includes(state._id) ? (\r\n                <i\r\n                  className='material-icons'\r\n                  onClick={() => {\r\n                    unlikePost(item._id);\r\n                  }}\r\n                >\r\n                  thumb_down\r\n                </i>\r\n              ) : (\r\n                <i\r\n                  className='material-icons'\r\n                  onClick={() => {\r\n                    likePost(item._id);\r\n                  }}\r\n                >\r\n                  thumb_up\r\n                </i>\r\n              )}\r\n              <h6>{item.likes.length} likes</h6>\r\n              <h6>{item.title}</h6>\r\n              <p>{item.body}</p>\r\n\r\n              {item.comments.map((record) => {\r\n                return (\r\n                  <h6 key={record._id}>\r\n                    <span style={{ fontWeight: '500' }}>\r\n                      {record.postedBy.name}\r\n                    </span>{' '}\r\n                    {record.text}\r\n                  </h6>\r\n                );\r\n              })}\r\n\r\n              <form\r\n                onSubmit={(e) => {\r\n                  e.preventDefault();\r\n                  makeComment(e.target[0].value, item._id);\r\n                }}\r\n              >\r\n                <input type='text' placeholder='add a comment' />\r\n              </form>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FollowingUsersPost;\r\n","export const initialstate = null;\r\n\r\nexport const reducer = (state, action) => {\r\n  if (action.type === 'USER') {\r\n    return action.payload;\r\n  }\r\n  if (action.type === 'CLEAR') {\r\n    return null;\r\n  }\r\n  if (action.type === 'UPDATEPIC') {\r\n    return {\r\n      ...state,\r\n      pic: action.payload,\r\n    };\r\n  }\r\n  if (action.type === 'UPDATE') {\r\n    return {\r\n      ...state,\r\n      followers: action.payload.followers,\r\n      following: action.payload.following,\r\n    };\r\n  }\r\n  return state;\r\n};\r\n","import React, { useEffect, createContext, useReducer, useContext } from 'react';\r\nimport './App.css';\r\nimport Navbar from './components/Navbar';\r\nimport { BrowserRouter, Route, useHistory } from 'react-router-dom';\r\n\r\nimport Home from './components/screens/Home';\r\nimport Profile from './components/screens/Profile';\r\nimport Signin from './components/screens/Login';\r\nimport Signup from './components/screens/Signup';\r\nimport UserProfile from './components/screens/UserProfile';\r\nimport CreatePost from './components/screens/CreatePost';\r\nimport FollowingUsersPost from './components/screens/FollowingUsersPost';\r\nimport { reducer, initialstate } from './reducers/userReducer';\r\n\r\nexport const UserContext = createContext();\r\n\r\nconst Routing = () => {\r\n  const history = useHistory();\r\n  const { state, dispatch } = useContext(UserContext);\r\n  useEffect(() => {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    if (user) {\r\n      dispatch({ type: 'USER', payload: user });\r\n      //history.push('/');\r\n    } else history.push('/signin');\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Route exact path='/'>\r\n        <Home />\r\n      </Route>\r\n      <Route path='/createPost'>\r\n        <CreatePost />\r\n      </Route>\r\n      <Route exact path='/profile'>\r\n        <Profile />\r\n      </Route>\r\n      <Route path='/signin'>\r\n        <Signin />\r\n      </Route>\r\n      <Route path='/signup'>\r\n        <Signup />\r\n      </Route>\r\n      <Route path='/profile/:userid'>\r\n        <UserProfile />\r\n      </Route>\r\n      <Route path='/followingPost'>\r\n        <FollowingUsersPost />\r\n      </Route>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst App = () => {\r\n  const [state, dispatch] = useReducer(reducer, initialstate);\r\n\r\n  return (\r\n    <UserContext.Provider value={{ state, dispatch }}>\r\n      <BrowserRouter>\r\n        <Navbar />\r\n        <Routing />\r\n      </BrowserRouter>\r\n    </UserContext.Provider>\r\n  );\r\n};\r\nexport default App;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App.js'\r\n\r\nReactDOM.render(<App/>,document.querySelector(\"#root\"))"],"sourceRoot":""}